$(document).ready(function(){function s(){var s=$(".js-accord"),e=s.find(".accord__item"),t=s.find(".accord__head"),i=s.find(".accord__in");t.on("click",function(){$(this).parent().hasClass("is-active")?(e.removeClass("is-active"),$(this).next().slideUp()):(e.removeClass("is-active"),$(this).parent().addClass("is-active"),i.slideUp(),$(this).next().slideDown())})}function e(){var s=$(".links"),e=(s.find(".links__wrap"),s.offset().top),t=s.height(),i=$(window).scrollTop();i>e+t?(s.addClass("is-fixed"),$(".js-page-action").addClass("has-top-margin")):(s.removeClass("is-fixed"),$(".js-page-action").removeClass("has-top-margin"))}function t(){var s=$(".links"),e=s.find(".links__list a"),t=80;e.on("click",function(){var s=$(this).attr("href"),e=$(s),i=e.offset().top,i=i-t;return $("html, body").animate({scrollTop:i},400),!1})}function i(){{var s=$(".links"),e=s.find(".links__list a"),t=$(".js-links-block"),i=$(window).scrollTop(),a=80;$(".js-nav-item")}t.each(function(){var s=$(this).offset().top,s=s-a;if(i>=s){var t=$(this).attr("id"),t="#"+t;e.each(function(){var s=$(this).attr("href");t==s&&(e.removeClass("is-active"),$(this).addClass("is-active"))})}})}function a(){var s=$(".main").offset().top;$(window).scrollTop()>=s?$(".js-page-action").addClass("is-fixed"):$(".js-page-action").removeClass("is-fixed")}function n(){$(".js-validate").each(function(){$(this).length>0&&$(this).validate({errorClass:"has-error",rules:{username:{minlength:2},any:{minlength:2},password:{minlength:5},confirm_password:{minlength:5,equalTo:"#password"},email:{email:!0},tel:{minlength:2},address:{minlength:2},message:{minlength:4}},messages:{firstname:"Вас так зовут?",lastname:"У вас такая фамилия?",fathername:"У вас такое отчество?",password:{required:"Введите пароль",minlength:"Минимум 5 символов"},confirm_password:{required:"Пароли не совпадают",minlength:"Минимум 5 символов",equalTo:"Пароли не совпадают"},email:"Неверный формат",address:"Это Ваш адрес?",any:"Заполните поле",company:"Заполните поле",tel:{required:"Заполните поле"},message:{required:"Заполните поле",minlength:"Заполните поле"}}})})}$(document).on("click",function(){$(".js-select").removeClass("is-active"),$(".js-select-list").slideUp(100),$(".js-overlay").fadeOut(300),$(".js-popup").removeClass("is-visible"),$("html").removeClass("has-open-popup")}),$(".js-slick").slick({infinite:!0,slidesToShow:6,slidesToScroll:6,dots:!1,arrows:!0});var l,o=$(".js-window"),c=500;$(".js-window-toggle").length>0&&($(".js-window-toggle").hover(function(){var s=$(this).attr("data-toggle"),e=$('[data-window="'+s+'"]'),t=$(this).offset().left,i=$(this).offset().top;e.css({left:t-$(this).outerWidth()/2,top:i-e.outerHeight()}),l=setTimeout(function(){o.hide().removeClass("is-visible"),e.fadeIn(400).addClass("is-visible")},c)},function(){clearTimeout(l),o.hide().removeClass("is-visible")}),$(".js-window").hover(function(){$(this).show().addClass("is-visible")},function(){$(this).fadeOut(400).removeClass("is-visible")})),$(".js-popup-link").on("click",function(s){$(".js-overlay").fadeIn(300);var e=$(this).attr("href");return $("html").addClass("has-open-popup"),$(".js-popup").removeClass("is-visible"),$('[data-popup="'+e+'"]').addClass("is-visible"),s.stopPropagation(),!1}),$(".js-popup-close").on("click",function(){return $(".js-overlay").fadeOut(300),$(this).parents(".js-popup").removeClass("is-visible"),!1}),$(".js-popup").children().on("click",function(s){s.stopPropagation()}),$(".js-ovarlay").on("click",function(){$(".js-popup").removeClass("is-visible")}),$(".js-select").on("click",function(s){s.stopPropagation()}),$(".js-select-text").on("click",function(){$(this).parents(".js-select").hasClass("is-active")?($(".js-select").removeClass("is-active"),$(".js-select-list").slideUp(100)):($(".js-select").removeClass("is-active"),$(".js-select-list").slideUp(100),$(this).parents(".js-select").toggleClass("is-active"),$(this).parents(".js-select").find(".js-select-list").slideToggle(100))}),$(".js-select-list a").on("click",function(){var s=$(this).attr("href"),e=$(this).text();return $(this).parents(".js-select").find(".js-select-text").text(e),$(this).parents(".js-select").find("option").removeAttr("selected"),$(this).parents(".js-select").find('option[value="'+s+'"]').attr("selected","selected"),$(this).parents(".js-select-list").find("a").removeClass("is-active"),$(this).addClass("is-active"),$(this).parents(".js-select").removeClass("is-active").removeClass("is-empty"),$(this).parents(".js-select-list").slideUp(100),!1}),$(".js-more").on("click",function(){var s=$(this).parent().find(".js-box-more");return $(this).toggleClass("is-active"),s.toggleClass("is-active"),!1}),$(".js-fancybox a").fancybox({padding:1,openEffect:"elastic",closeEffect:"elastic"}),s(),$(".links").length>0&&e(),$(".links").length>0&&t(),$(".js-page-action").length>0&&a(),$(".links").length>0&&(e(),i()),$(window).scroll(function(){$(".links").length>0&&(e(),i()),$(".js-page-action").length>0&&a()}),n(),$(".js-input-tel").length&&$(".js-input-tel").mask("+799 (99) 999-99-99"),$("body").on("change",".js-check input",function(){var s=$(this).closest(".js-check-group"),e=s.children(".js-check-hidden");$(this).is(":checked")?(e.addClass("is-visible"),$(this).parent().addClass("is-checked")):(e.removeClass("is-visible").addClass("is-hidden"),$(this).parent().removeClass("is-checked"))}),$("body").on("change",'[data-state="1"]',function(){var s=$(this).parent().attr("data-toggle");$("."+s).addClass("is-visible").removeClass("is-hidden")}),$("body").on("change",'[data-state="0"]',function(){var s=$(this).parent().attr("data-toggle");$("."+s).addClass("is-hidden").removeClass("is-visible")}),$(".js-scroll-to").on("click",function(){var s=$(this).attr("data-scroll-to");if($(this).attr("data-margin").length)var e=$(this).attr("data-margin");else var e=0;return $("html, body").animate({scrollTop:$("."+s).offset().top-e},500),!1}),$(".js-sort").on("click",function(){return $(this).hasClass("is-active")?($(this).removeClass("is-active"),$(this).parent().find("input").removeAttr("checked")):($(this).addClass("is-active"),$(this).parent().find("input").attr("checked","checked")),!1})});